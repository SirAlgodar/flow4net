{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrieldesouza/Documents/trae_projects/flow4network/src/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Loader2, Lock, User, Eye, EyeOff, AlertCircle } from 'lucide-react';\nimport { useRouter } from 'next/navigation';\n\nconst loginSchema = z.object({\n  username: z.string().min(1, 'Usuário ou Email é obrigatório'),\n  password: z.string().min(1, 'Senha é obrigatória'),\n  remember: z.boolean().optional(),\n});\n\ntype LoginFormData = z.infer<typeof loginSchema>;\n\nexport default function LoginPage() {\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  const { register, handleSubmit, formState: { errors } } = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n  });\n\n  const onSubmit = async (data: LoginFormData) => {\n    setLoading(true);\n    setError('');\n\n    try {\n      const res = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      });\n\n      const result = await res.json();\n\n      if (!res.ok) {\n        throw new Error(result.error || 'Falha ao realizar login');\n      }\n\n      // Success\n      router.push('/admin'); // Redirect to dashboard\n    } catch (err: any) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gray-100 p-4\">\n      <div className=\"w-full max-w-md overflow-hidden rounded-2xl bg-white shadow-xl\">\n        <div className=\"bg-blue-600 p-8 text-center\">\n          <h1 className=\"text-3xl font-bold text-white\">Flow4Network</h1>\n          <p className=\"mt-2 text-blue-100\">Acesse sua conta para continuar</p>\n        </div>\n\n        <div className=\"p-8\">\n          {error && (\n            <div className=\"mb-6 flex items-center gap-2 rounded-lg bg-red-50 p-4 text-sm text-red-600\">\n              <AlertCircle size={20} />\n              <span>{error}</span>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Usuário ou Email</label>\n              <div className=\"relative mt-1\">\n                <div className=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400\">\n                  <User size={20} />\n                </div>\n                <input\n                  type=\"text\"\n                  {...register('username')}\n                  className={`block w-full rounded-lg border pl-10 p-3 outline-none transition focus:ring-2 ${\n                    errors.username \n                      ? 'border-red-300 focus:border-red-500 focus:ring-red-200' \n                      : 'border-gray-300 focus:border-blue-500 focus:ring-blue-200'\n                  }`}\n                  placeholder=\"admin\"\n                />\n              </div>\n              {errors.username && (\n                <p className=\"mt-1 text-xs text-red-500\">{errors.username.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Senha</label>\n              <div className=\"relative mt-1\">\n                <div className=\"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400\">\n                  <Lock size={20} />\n                </div>\n                <input\n                  type={showPassword ? 'text' : 'password'}\n                  {...register('password')}\n                  className={`block w-full rounded-lg border pl-10 pr-10 p-3 outline-none transition focus:ring-2 ${\n                    errors.password \n                      ? 'border-red-300 focus:border-red-500 focus:ring-red-200' \n                      : 'border-gray-300 focus:border-blue-500 focus:ring-blue-200'\n                  }`}\n                  placeholder=\"••••••••\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600\"\n                >\n                  {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n                </button>\n              </div>\n              {errors.password && (\n                <p className=\"mt-1 text-xs text-red-500\">{errors.password.message}</p>\n              )}\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  {...register('remember')}\n                  className=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">Lembrar-me</span>\n              </label>\n              <a href=\"#\" className=\"text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline\">\n                Esqueci minha senha\n              </a>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex w-full items-center justify-center rounded-lg bg-blue-600 px-4 py-3 font-semibold text-white transition hover:bg-blue-700 disabled:bg-blue-400\"\n            >\n              {loading ? <Loader2 className=\"animate-spin\" /> : 'Entrar'}\n            </button>\n          </form>\n        </div>\n        \n        <div className=\"bg-gray-50 px-8 py-4 text-center\">\n          <p className=\"text-xs text-gray-500\">\n            &copy; 2026 Flow4Network. Todos os direitos reservados.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}