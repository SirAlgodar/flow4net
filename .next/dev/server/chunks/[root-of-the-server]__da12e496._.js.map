{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/gabrieldesouza/Documents/trae_projects/flow4network/src/app/api/results/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { PrismaClient } from '@prisma/client';\n\nconst prisma = new PrismaClient();\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json();\n    const { linkId, cpfCnpj, device, network, speed, streaming } = body;\n\n    const result = await prisma.testResult.create({\n      data: {\n        testLinkId: linkId,\n        cpfCnpj,\n        \n        os: device.os,\n        browser: device.browser,\n        userAgent: device.userAgent,\n        ram: device.deviceMemory,\n        cpuCores: device.hardwareConcurrency,\n        gpu: device.gpu,\n        \n        publicIp: network.ip,\n        connectionType: network.connectionType,\n        \n        downloadSpeed: speed.download,\n        uploadSpeed: speed.upload,\n        ping: speed.ping,\n        jitter: speed.jitter,\n        \n        canStream4k: streaming.uhd,\n        canStreamHd: streaming.hd,\n        \n        externalStatus: body.externalStatus\n      }\n    });\n\n    return NextResponse.json({ success: true, id: result.id });\n  } catch (e) {\n    console.error(e);\n    return NextResponse.json({ error: 'Failed to save result' }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,oPAAY;AAExB,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG;QAE/D,MAAM,SAAS,MAAM,OAAO,UAAU,CAAC,MAAM,CAAC;YAC5C,MAAM;gBACJ,YAAY;gBACZ;gBAEA,IAAI,OAAO,EAAE;gBACb,SAAS,OAAO,OAAO;gBACvB,WAAW,OAAO,SAAS;gBAC3B,KAAK,OAAO,YAAY;gBACxB,UAAU,OAAO,mBAAmB;gBACpC,KAAK,OAAO,GAAG;gBAEf,UAAU,QAAQ,EAAE;gBACpB,gBAAgB,QAAQ,cAAc;gBAEtC,eAAe,MAAM,QAAQ;gBAC7B,aAAa,MAAM,MAAM;gBACzB,MAAM,MAAM,IAAI;gBAChB,QAAQ,MAAM,MAAM;gBAEpB,aAAa,UAAU,GAAG;gBAC1B,aAAa,UAAU,EAAE;gBAEzB,gBAAgB,KAAK,cAAc;YACrC;QACF;QAEA,OAAO,8LAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,IAAI,OAAO,EAAE;QAAC;IAC1D,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC;QACd,OAAO,8LAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF"}}]
}